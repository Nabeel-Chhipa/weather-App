<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&family=Urbanist:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <script src="https://kit.fontawesome.com/1e5c4d3074.js" crossorigin="anonymous"></script>
    <title>Weather App</title>
  </head>
  <body>
    <main>
      <div id="boxWrapper">
        <div id="dataWrapper">
          <h3 class="dataWrapper__title">Weather App</h3>
        </div>
        <div id="inputWrapper">
          <form onsubmit="getWeather(); return false;">
            <input
              type="text"
              name="location"
              id="locationName"
              placeholder="Enter Location"
              required
            />
            <button type="submit">Get Weather</button>
            <i class="fa-solid fa-magnifying-glass"></i>
          </form>
        </div>
      </div>
    </main>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
      const getWeather = () => {
        let userInput = document.querySelector("#locationName").value;
        let URL =
          "https://api.openweathermap.org/data/2.5/weather?units=metric";
        let API_KEY = "f23d04b0d7e396743337140230ef73a3";
        axios
          .get(`${URL}&appid=${API_KEY}&q=${userInput}`)
          .then((res) => {
            console.log(res.data);
            document.querySelector("#dataWrapper").innerHTML = `
                <p class='locationName'>Location: ${res.data.name}</p>
                <p class='weather'>Weather: ${res.data.main.temp}</p>
            `;
            let userInput = (document.querySelector("#locationName").value =
              "");
          })
          .catch((error) => console.log(error));
      };
    </script>
  </body>
</html>
